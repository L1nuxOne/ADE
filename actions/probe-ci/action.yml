name: "PathProbe CI (l1nuxone)"
description: "Run PathProbe harness for lab/pp-* branches"
runs:
  using: "composite"
  steps:
    - uses: actions/setup-python@v5
      with:
        python-version: '3.12'
    - shell: bash
      run: |
        set -euo pipefail
        cd "${{ github.workspace }}/experiments/pathprobe"
        chmod +x probe_run.sh
        ./probe_run.sh
    - uses: actions/upload-artifact@v4
      with:
        name: probe-${{ replace(github.ref_name, '/', '-') }}
        path: experiments/pathprobe/**/probe_report.json
